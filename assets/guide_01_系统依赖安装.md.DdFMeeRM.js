import{_ as i,c as a,o as n,ae as t}from"./chunks/framework.BGWP4WZ_.js";const c=JSON.parse('{"title":"系统依赖安装","description":"","frontmatter":{},"headers":[],"relativePath":"guide/01_系统依赖安装.md","filePath":"guide/01_系统依赖安装.md"}'),e={name:"guide/01_系统依赖安装.md"};function l(h,s,p,d,k,o){return n(),a("div",null,s[0]||(s[0]=[t(`<h1 id="系统依赖安装" tabindex="-1">系统依赖安装 <a class="header-anchor" href="#系统依赖安装" aria-label="Permalink to &quot;系统依赖安装&quot;">​</a></h1><p>⚠️务必按照教程安装顺序进行软件、工具的安装</p><p>⚠️推荐使用conda环境进行安装，PyQt5、OpenCV可以直接使用conda预编译好的版本。pip在arm64 4GB及其以下设备上PyQt5、OpenCV极其容易编译失败无法安装</p><h2 id="系统依赖安装-1" tabindex="-1">系统依赖安装 <a class="header-anchor" href="#系统依赖安装-1" aria-label="Permalink to &quot;系统依赖安装&quot;">​</a></h2><h3 id="多媒体处理组件" tabindex="-1">多媒体处理组件 <a class="header-anchor" href="#多媒体处理组件" aria-label="Permalink to &quot;多媒体处理组件&quot;">​</a></h3><h4 id="_1-ffmpeg-视频处理工具" tabindex="-1">1. <strong>FFmpeg 视频处理工具</strong> <a class="header-anchor" href="#_1-ffmpeg-视频处理工具" aria-label="Permalink to &quot;1. **FFmpeg 视频处理工具**&quot;">​</a></h4><h5 id="📦-windows-安装方式" tabindex="-1">📦 Windows 安装方式 <a class="header-anchor" href="#📦-windows-安装方式" aria-label="Permalink to &quot;📦 Windows 安装方式&quot;">​</a></h5><ul><li><p><strong>推荐方式：使用 Scoop 安装</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scoop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ffmpeg</span></span></code></pre></div></li><li><p><strong>手动安装</strong></p><ol><li>前往 <a href="https://github.com/BtbN/FFmpeg-Builds/releases" target="_blank" rel="noreferrer">BtbN/FFmpeg-Builds</a> 下载对应版本</li><li>解压后将 <code>bin</code> 目录路径添加至系统环境变量 <code>PATH</code></li></ol></li></ul><h5 id="🌐-跨平台安装-适用于-conda-环境" tabindex="-1">🌐 跨平台安装（适用于 Conda 环境） <a class="header-anchor" href="#🌐-跨平台安装-适用于-conda-环境" aria-label="Permalink to &quot;🌐 跨平台安装（适用于 Conda 环境）&quot;">​</a></h5><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> conda-forge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ffmpeg</span></span></code></pre></div><hr><h4 id="_2-opus-音频编解码器" tabindex="-1">2. <strong>Opus 音频编解码器</strong> <a class="header-anchor" href="#_2-opus-音频编解码器" aria-label="Permalink to &quot;2. **Opus 音频编解码器**&quot;">​</a></h4><ul><li><p>默认情况下，项目已自动引入 <code>opus.dll</code>，<strong>通常无需额外安装</strong></p></li><li><p>如遇找不到库的问题，Windows 用户可手动复制 <code>/libs/windows/opus.dll</code> 到以下任一位置：</p><ul><li>应用程序运行目录</li><li><code>C:\\Windows\\System32</code></li></ul></li></ul><h5 id="conda-环境安装方式" tabindex="-1">Conda 环境安装方式： <a class="header-anchor" href="#conda-环境安装方式" aria-label="Permalink to &quot;Conda 环境安装方式：&quot;">​</a></h5><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> conda-forge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> opus</span></span></code></pre></div><h3 id="linux-debian-ubuntu" tabindex="-1">Linux (Debian/Ubuntu) <a class="header-anchor" href="#linux-debian-ubuntu" aria-label="Permalink to &quot;Linux (Debian/Ubuntu)&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装系统依赖</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 必装</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python3-pyaudio</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> portaudio19-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ffmpeg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libopus0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libopus-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build-essential</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  python3-venv</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装音量控制依赖（以下三选一）</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. PulseAudio 工具（推荐）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pulseaudio-utils</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. 或者 ALSA 工具</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> alsa-utils</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3. 如果需要使用 alsamixer 方式，还需要安装 expect</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> alsa-utils</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> expect</span></span></code></pre></div><h3 id="macos" tabindex="-1">macOS <a class="header-anchor" href="#macos" aria-label="Permalink to &quot;macOS&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 使用 Homebrew 安装系统依赖</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> portaudio</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> opus</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python-tk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ffmpeg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gfortran</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tcl-tk</span></span></code></pre></div><h2 id="python-依赖安装" tabindex="-1">Python 依赖安装 <a class="header-anchor" href="#python-依赖安装" aria-label="Permalink to &quot;Python 依赖安装&quot;">​</a></h2><hr><h3 id="方式一-使用-miniconda-推荐" tabindex="-1">方式一：使用 Miniconda（推荐） <a class="header-anchor" href="#方式一-使用-miniconda-推荐" aria-label="Permalink to &quot;方式一：使用 Miniconda（推荐）&quot;">​</a></h3><h3 id="_1-下载-miniconda-安装包" tabindex="-1">1. 下载 Miniconda 安装包（ <a class="header-anchor" href="#_1-下载-miniconda-安装包" aria-label="Permalink to &quot;1. 下载 Miniconda 安装包（&quot;">​</a></h3><p>根据你的系统架构或操作系统选择下载命令：</p><table tabindex="0"><thead><tr><th style="text-align:left;">系统 / 架构</th><th style="text-align:left;">下载指令</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Linux - x86_64</strong>（PC/服务器常用）</td><td style="text-align:left;"><code>bash wget -O Miniconda3-latest-Linux-x86_64.sh https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh </code></td></tr><tr><td style="text-align:left;"><strong>Linux - aarch64</strong>（ARM64，比如树莓派、部分服务器）</td><td style="text-align:left;"><code>bash wget -O Miniconda3-latest-Linux-aarch64.sh https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-aarch64.sh </code></td></tr><tr><td style="text-align:left;"><strong>Linux - ppc64le</strong>（IBM Power服务器）</td><td style="text-align:left;"><code>bash wget -O Miniconda3-latest-Linux-ppc64le.sh https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-ppc64le.sh </code></td></tr><tr><td style="text-align:left;"><strong>Windows - x86_64</strong>（普通Windows PC）</td><td style="text-align:left;"><a href="https://repo.anaconda.com/miniconda/Miniconda3-latest-Windows-x86_64.exe" target="_blank" rel="noreferrer">点击下载</a></td></tr><tr><td style="text-align:left;"><strong>Windows - arm64</strong>（ARM Windows设备，如Surface Pro X）</td><td style="text-align:left;"><a href="https://repo.anaconda.com/miniconda/Miniconda3-latest-Windows-arm64.exe" target="_blank" rel="noreferrer">点击下载</a></td></tr><tr><td style="text-align:left;"><strong>macOS - x86_64</strong>（Intel芯片Mac）</td><td style="text-align:left;"><code>bash wget -O Miniconda3-latest-MacOSX-x86_64.sh https://repo.anaconda.com/miniconda/Miniconda3-latest-MacOSX-x86_64.sh </code></td></tr><tr><td style="text-align:left;"><strong>macOS - arm64</strong>（Apple Silicon芯片，如M1/M2/M3）</td><td style="text-align:left;"><code>bash wget -O Miniconda3-latest-MacOSX-arm64.sh https://repo.anaconda.com/miniconda/Miniconda3-latest-MacOSX-arm64.sh </code></td></tr></tbody></table><hr><h3 id="_2-给安装脚本添加执行权限-仅linux-macos" tabindex="-1">2. 给安装脚本添加执行权限（仅Linux/macOS） <a class="header-anchor" href="#_2-给安装脚本添加执行权限-仅linux-macos" aria-label="Permalink to &quot;2. 给安装脚本添加执行权限（仅Linux/macOS）&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Miniconda3-latest-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.sh</span></span></code></pre></div><h3 id="_3-运行安装程序-仅linux-macos" tabindex="-1">3. 运行安装程序（仅Linux/macOS） <a class="header-anchor" href="#_3-运行安装程序-仅linux-macos" aria-label="Permalink to &quot;3. 运行安装程序（仅Linux/macOS）&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./Miniconda3-latest-*.sh</span></span></code></pre></div><p>⚡ <em>注意：Linux/macOS下不需要用<code>sudo</code>，用普通用户安装即可。</em></p><hr><h3 id="_4-安装过程中-windows请按照网络搜索到的教程来" tabindex="-1">4. 安装过程中 （windows请按照网络搜索到的教程来） <a class="header-anchor" href="#_4-安装过程中-windows请按照网络搜索到的教程来" aria-label="Permalink to &quot;4. 安装过程中 （windows请按照网络搜索到的教程来）&quot;">​</a></h3><ol><li>出现许可协议 → 按 <code>Enter</code> 键慢慢翻，或按 <code>q</code> 直接跳过。</li><li>输入 <code>yes</code> 接受协议。</li><li>选择安装路径，默认是 <code>$HOME/miniconda3</code> → 直接按 <code>Enter</code> 确认。</li><li>是否初始化 Miniconda → 输入 <code>yes</code>（推荐）。</li></ol><hr><h3 id="_5-配置环境变量-如果未自动配置" tabindex="-1">5. 配置环境变量（如果未自动配置） <a class="header-anchor" href="#_5-配置环境变量-如果未自动配置" aria-label="Permalink to &quot;5. 配置环境变量（如果未自动配置）&quot;">​</a></h3><p>Linux/macOS 编辑 <code>.bashrc</code>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.bashrc</span></span></code></pre></div><p>在文件末尾添加：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$HOME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/miniconda3/bin:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span></code></pre></div><p>保存并退出：</p><ul><li>按 <code>Ctrl + X</code></li><li>按 <code>Y</code></li><li>按 <code>Enter</code></li></ul><p>让配置立即生效：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.bashrc</span></span></code></pre></div><hr><h3 id="_6-检查-conda-安装成功" tabindex="-1">6. 检查 conda 安装成功 <a class="header-anchor" href="#_6-检查-conda-安装成功" aria-label="Permalink to &quot;6. 检查 conda 安装成功&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span></code></pre></div><p>如果看到版本号，比如 <code>conda 24.1.2</code>，就代表安装成功！</p><hr><h3 id="_7-初始化conda-可选但推荐" tabindex="-1">7. 初始化conda（可选但推荐） <a class="header-anchor" href="#_7-初始化conda-可选但推荐" aria-label="Permalink to &quot;7. 初始化conda（可选但推荐）&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bash</span></span></code></pre></div><p>然后打开新终端，看到 <code>(base)</code>，说明环境正常激活。</p><hr><h3 id="_8-推荐-关闭开机自动激活-base-环境" tabindex="-1">8. （推荐）关闭开机自动激活 base 环境 <a class="header-anchor" href="#_8-推荐-关闭开机自动激活-base-环境" aria-label="Permalink to &quot;8. （推荐）关闭开机自动激活 base 环境&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> auto_activate_base</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span></code></pre></div><p>这样以后打开终端是干净的，需要的时候再手动 <code>conda activate base</code>。</p><h3 id="一键自动更换当前网络下最快pip软件源" tabindex="-1">一键自动更换当前网络下最快pip软件源 <a class="header-anchor" href="#一键自动更换当前网络下最快pip软件源" aria-label="Permalink to &quot;一键自动更换当前网络下最快pip软件源&quot;">​</a></h3><ul><li><strong>为了更稳定更快速的安装所需依赖包，建议安装</strong></li></ul><p><a href="https://github.com/RubyMetric/chsrc" target="_blank" rel="noreferrer">工具地址|chsrc 全平台通用换源工具|GitHub仓库</a></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># windows安装（PowerShell管理员权限打开输入下面这句）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">winget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RubyMetric.chsrc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> winget</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 个人服务器，加速下载，支持x86_64和arm64架构</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -O-</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> aslant.top/chsrc.sh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bash</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 更换pip软件源</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chsrc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pip</span></span></code></pre></div><h2 id="安装项目依赖" tabindex="-1">安装项目依赖 <a class="header-anchor" href="#安装项目依赖" aria-label="Permalink to &quot;安装项目依赖&quot;">​</a></h2><h3 id="_1-创建-conda-环境" tabindex="-1">1. 创建 Conda 环境 <a class="header-anchor" href="#_1-创建-conda-环境" aria-label="Permalink to &quot;1. 创建 Conda 环境&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> py-xiaozhi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.10</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre></div><h3 id="_2-激活环境" tabindex="-1">2. 激活环境 <a class="header-anchor" href="#_2-激活环境" aria-label="Permalink to &quot;2. 激活环境&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> activate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> py-xiaozhi</span></span></code></pre></div><h3 id="_3-安装-python-依赖" tabindex="-1">3. 安装 Python 依赖 <a class="header-anchor" href="#_3-安装-python-依赖" aria-label="Permalink to &quot;3. 安装 Python 依赖&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Windows/Linux</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> requirements.txt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://mirrors.aliyun.com/pypi/simple</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># macOS</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> requirements_mac.txt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://mirrors.aliyun.com/pypi/simple</span></span></code></pre></div><ul><li>安装其它依赖(<strong>因为pip安装这两个可能会启动不了。需要在conda单独安装</strong>)</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 依然在创建的px-xiaozhi虚拟环境中</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># PyQt5</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pyqt=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5.15.10</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># OpenCV</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> opencv=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4.10.0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># windows电脑需要单独安装这个</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wmi</span></span></code></pre></div><hr><h3 id="方式二-使用-venv-不再推荐" tabindex="-1">方式二：使用 venv (不再推荐) <a class="header-anchor" href="#方式二-使用-venv-不再推荐" aria-label="Permalink to &quot;方式二：使用 venv (不再推荐)&quot;">​</a></h3><ul><li>mac上会提示系统无法验证 SSL 证书的签发机构，也就是说缺少或未安装系统根证书（CA certificates）</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. 创建虚拟环境</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> venv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .venv</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. 激活虚拟环境</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Windows</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.venv\\Scripts\\activate</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Linux/macOS</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .venv/bin/activate</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3. 安装依赖</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Windows/Linux</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> requirements.txt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://mirrors.aliyun.com/pypi/simple</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># macOS</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> requirements_mac.txt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://mirrors.aliyun.com/pypi/simple</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 由于requirements 去除了这几个默认的需要单独安装</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PyQt5==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5.15.9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> opencv-python==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4.11.0.86</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wmi==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.5.1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://mirrors.aliyun.com/pypi/simple</span></span></code></pre></div><h2 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项&quot;">​</a></h2><ol><li>建议使用 Python 3.9.13+ 版本，推荐 3.10 最大版本3.12（不行就降级）</li><li>Windows 用户无需手动安装 opus.dll，项目会自动处理</li><li>使用 Conda 环境时必须安装 ffmpeg 和 Opus</li><li>使用 Conda 环境时请勿和esp32-server共用同一个Conda环境，因为服务端websocket依赖版本高于本项目</li><li>建议使用国内镜像源安装依赖，可以提高下载速度</li><li>macOS 用户需使用专门的 requirements_mac.txt</li><li>确保系统依赖安装完成后再安装 Python 依赖</li></ol>`,75)]))}const F=i(e,[["render",l]]);export{c as __pageData,F as default};
